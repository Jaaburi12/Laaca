<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Samee Booking System</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f5f6fa; }
    header { background: #2a6b7c; color: #fff; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; }
    header h1 { margin: 0; font-size: 20px; }
    .container { padding: 20px; }
    .page { display: none; padding: 20px; }
    .active { display: block; }
    .btn { padding: 10px 16px; border: none; border-radius: 5px; cursor: pointer; }
    .btn-primary { background: #e36b2c; color: #fff; }
    .btn-logout { background: #dc3545; color: #fff; float: right; }
    .login-box { max-width: 400px; margin: 80px auto; background: #fff; padding: 30px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .login-box h2 { margin-bottom: 20px; color: #2a6b7c; text-align: center; }
    .form-group { margin-bottom: 15px; }
    label { display: block; margin-bottom: 5px; color: #333; }
    input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px; }
    table { width: 100%; border-collapse: collapse; margin-top: 15px; }
    table th, table td { padding: 10px; border: 1px solid #ddd; text-align: left; }
    table th { background: #2a6b7c; color: #fff; }
  </style>
</head>
<body>

<header>
  <h1>Samee Booking System</h1>
  <button class="btn btn-logout" onclick="logout()" id="logoutBtn" style="display:none;">Logout</button>
</header>

<!-- Login/Register Page -->
<div id="auth-page" class="page active">
  <div class="login-box">
    <h2>Login</h2>
    <div class="form-group">
      <label for="loginUser">Username</label>
      <input type="text" id="loginUser" required>
    </div>
    <div class="form-group">
      <label for="loginPass">Password</label>
      <input type="password" id="loginPass" required>
    </div>
    <button class="btn btn-primary" style="width:100%;" onclick="login()">Login</button>
  </div>
</div>

<!-- User Dashboard -->
<div id="user-page" class="page">
  <div class="container">
    <h2>Book a Service</h2>
    <button class="btn btn-primary" onclick="makeBooking('Hospital')">Book Hospital</button>
    <button class="btn btn-primary" onclick="makeBooking('Hotel')">Book Hotel</button>
    <h3 style="margin-top:20px;">My Bookings</h3>
    <table>
      <thead>
        <tr><th>ID</th><th>Service</th><th>Date</th><th>Amount</th><th>Status</th></tr>
      </thead>
      <tbody id="userBookings"></tbody>
    </table>
  </div>
</div>

<!-- Admin Dashboard -->
<div id="admin-page" class="page">
  <div class="container">
    <h2>Admin Dashboard</h2>
    <h3>All Bookings</h3>
    <table>
      <thead>
        <tr><th>ID</th><th>User</th><th>Service</th><th>Date</th><th>Amount</th><th>Status</th></tr>
      </thead>
      <tbody id="adminBookings"></tbody>
    </table>
  </div>
</div>

<script>
  let bookings = [];
  let currentUser = null;

  function login(){
    const user = document.getElementById("loginUser").value;
    const pass = document.getElementById("loginPass").value;

    if(user === "admin" && pass === "1234"){
      currentUser = "admin";
      document.getElementById("auth-page").classList.remove("active");
      document.getElementById("admin-page").classList.add("active");
      document.getElementById("logoutBtn").style.display = "block";
      loadAdminBookings();
    } else if(user && pass){
      currentUser = user;
      document.getElementById("auth-page").classList.remove("active");
      document.getElementById("user-page").classList.add("active");
      document.getElementById("logoutBtn").style.display = "block";
    } else {
      alert("Invalid credentials!");
    }
  }

  function logout(){
    currentUser = null;
    document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
    document.getElementById("auth-page").classList.add("active");
    document.getElementById("logoutBtn").style.display = "none";
  }

  function makeBooking(service){
    const booking = {
      id: "B" + (bookings.length+1).toString().padStart(3,"0"),
      user: currentUser,
      service,
      date: new Date().toISOString().split("T")[0],
      amount: service === "Hospital" ? "120 Birr" : "250 Birr",
      status: "Confirmed"
    };
    bookings.push(booking);
    loadUserBookings();
  }

  function loadUserBookings(){
    const tbody = document.getElementById("userBookings");
    tbody.innerHTML = "";
    bookings.filter(b=>b.user===currentUser).forEach(b=>{
      tbody.innerHTML += `<tr>
        <td>${b.id}</td><td>${b.service}</td><td>${b.date}</td>
        <td>${b.amount}</td><td>${b.status}</td>
      </tr>`;
    });
  }

  function loadAdminBookings(){
    const tbody = document.getElementById("adminBookings");
    tbody.innerHTML = "";
    bookings.forEach(b=>{
      tbody.innerHTML += `<tr>
        <td>${b.id}</td><td>${b.user}</td><td>${b.service}</td>
        <td>${b.date}</td><td>${b.amount}</td><td>${b.status}</td>
      </tr>`;
    });
  }
</script>

</body>
</html>
